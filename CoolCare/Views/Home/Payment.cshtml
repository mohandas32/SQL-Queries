
@{
    //Layout = null;
    Layout = "~/Views/Shared/Admin.cshtml";
}


    <div>
        <form action="/Home/payment" method="post" name="razorpayForm">
            <input id="razorpay_payment_id" type="hidden" name="razorpay_payment_id" />
            <input id="razorpay_order_id" type="hidden" name="razorpay_order_id" />
            <input id="razorpay_signature" type="hidden" name="razorpay_signature" />
        </form>

        <div>
            <button id="rzp_button1"  style="margin-top: 20px">
                Checkout with Razorpay
            </button>
            <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
            <script>
                var orderId = "@ViewBag.orderId"
                var options = {
                "name": "CoolCare",
                "description": "Payment using Razorpay",
                "order_id": orderId,
                    "image": "https://www.code2night.com/Content/code2night-C.png",
                    "prefill": {

                        "name": '@Session["userName"]',
                "email": '@Session["email"]',
                        "contact": '@Session["mobileno"]',
                    },
                "notes": {
                "address": "Live Payment"
                },
                "theme": {
                "color": "#3399cc"
                }
                }
                // Boolean whether to show image inside a white frame. (default: true)
                options.theme.image_padding= false;
                options.handler = function (response) {
                    document.getElementById('razorpay_payment_id').value = response.razorpay_payment_id;
                    document.getElementById('razorpay_order_id').value = orderId;
                    document.getElementById('razorpay_signature').value = response.razorpay_signature;
                    document.razorpayForm.submit();
                    };
                    options.modal = {
                        ondismiss: function () {
                            console.log("this code run when popup is closed");
                        },
                        escape: true,
                        backdropclose: false
                    };
                    var rzp = new Razorpay(options);
                                    document.getElementById('rzp_button1').onclick = function(e){alert('hi');  rzp.open();  e.preventDefault();   };
            </script>
        </div>
</div>

<script src="https://browser.sentry-cdn.com/7.2.0/bundle.min.js"></script>





